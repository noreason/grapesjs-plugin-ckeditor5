/*! grapesjs-plugin-ckeditor5 - 0.0.3 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("grapesjs")):"function"==typeof define&&define.amd?define(["grapesjs"],t):"object"==typeof exports?exports["grapesjs-plugin-ckeditor5"]=t(require("grapesjs")):e["grapesjs-plugin-ckeditor5"]=t(e.grapesjs)}("undefined"!=typeof self?self:this,function(e){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var u=t[o](i),a=u.value}catch(e){return void n(e)}if(!u.done)return Promise.resolve(a).then(function(e){r("next",e)},function(e){r("throw",e)});e(a)}return r("next")})}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=function(e){return e&&e.__esModule?e:{default:e}}(o),u=function(e){return e.stopPropagation()};t.default=i.default.plugins.add("gjs-plugin-ckeditor5",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t,o={options:{},position:"left"};for(var a in o)a in n||(n[a]=o[a]);if(!InlineEditor)throw new Error("ckeditor5 InlineEditor instance not found, check cdn load");e.setCustomRte({enable:function(){function t(e,t){return n.apply(this,arguments)}var n=r(regeneratorRuntime.mark(function t(n,r){var o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n.contentEditable=!0,o=e.RichTextEditor.getToolbarEl(),[].forEach.call(o.children,function(e){e.style.display="none"}),t.next=5,InlineEditor.create(n);case 5:if(r=t.sent,r.getContent=r.getData,r.on("mousedown",function(e){var t=i.default.$(".gjs-rte-toolbar");["off","on"].forEach(function(e){return t[e]("mousedown",u)})}),e.RichTextEditor.getToolbarEl().appendChild(r.ui.view.toolbar.element),n.contentEditable=!0,!r||!r.editing.view.document.isFocused){t.next=12;break}return t.abrupt("return");case 12:return n.contentEditable=!0,r&&r.editing.view.focus(),t.abrupt("return",r);case 15:case"end":return t.stop()}},t,void 0)}));return t}(),disable:function(){function e(e,n){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.contentEditable=!1;case 1:case"end":return e.stop()}},e,void 0)}));return e}()})})},function(t,n){t.exports=e}])});